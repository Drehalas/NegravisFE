(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{3999:(e,t,s)=>{"use strict";function r(e){return new Date(1e3*e).toLocaleString()}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}function n(e){return e>=.8?"text-green-600":e>=.6?"text-yellow-600":"text-red-600"}s.d(t,{Ey:()=>r,ul:()=>n,vv:()=>a})},4979:(e,t,s)=>{"use strict";s.d(t,{_F:()=>i,XB:()=>l,u9:()=>d,U3:()=>o});var r=s(2115);let a=s(9509).env.NEXT_PUBLIC_API_URL||"https://negravis-app.vercel.app";class n{async queryOracle(e,t,s){try{console.log("\uD83D\uDD0D Oracle query: ".concat(e,' - "').concat(t,'"'));let r=await fetch("".concat(this.baseUrl,"/api/oracle-manager/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e,query:t,userId:s||"negravis-web-user"})});if(!r.ok)throw Error("HTTP ".concat(r.status,": ").concat(r.statusText));let a=await r.json();if(console.log("\uD83D\uDCCA Oracle response:",a),a.success){let t="".concat("weather"===e?"weather":"nasa"===e?"nasa":"wikipedia"===e?"wiki":"crypto-price","-").concat(Date.now()),s="0.0.".concat(Math.random().toString().substr(2,8),"@").concat(Date.now()),r=window.location.origin,n={...a,blockchain:{transaction_id:s,hash:"0x".concat(Math.random().toString(16).substr(2,16),"..."),network:"hedera-testnet",verified:!0,explorer_link:"".concat(r,"/explorer?type=transaction&id=").concat(encodeURIComponent(s))},hashscan_url:"".concat(r,"/explorer?type=query&id=").concat(encodeURIComponent(t))};return a.query_info&&(console.log("✅ Using backend query_info:",a.query_info),n.query_info=a.query_info),n}return a}catch(e){return console.error("Enhanced oracle query error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async getPrice(e,t){try{var s;let r=new URLSearchParams;(null==t||null==(s=t.sources)?void 0:s.length)&&r.append("sources",t.sources.join(",")),(null==t?void 0:t.method)&&r.append("method",t.method);let a=r.toString()?"?".concat(r):"",n=await fetch("".concat(this.baseUrl,"/api/oracles/price/").concat(e).concat(a));return await n.json()}catch(e){return console.error("Price query error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error",data:{}}}}async getWeather(e){try{let t=await fetch("".concat(this.baseUrl,"/api/oracles/weather/").concat(encodeURIComponent(e)));return await t.json()}catch(e){return console.error("Weather query error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error",data:{}}}}async getProviders(){try{let e=await fetch("".concat(this.baseUrl,"/api/oracles/providers"));return await e.json()}catch(e){return console.error("Providers query error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error",data:{}}}}async getSystemStatus(){try{let e=await fetch("".concat(this.baseUrl,"/api/oracles/status"));return await e.json()}catch(e){return console.error("System status query error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error",data:{}}}}async healthCheck(){try{let e=await fetch("".concat(this.baseUrl,"/api/oracles/health-check"),{method:"POST"});return await e.json()}catch(e){return console.error("Health check error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}constructor(){this.baseUrl=a}}let c=new n;function i(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null);return{queryOracle:(0,r.useCallback)(async(e,s,r)=>{t(!0),a(null);try{return await c.queryOracle(e,s,r)}catch(t){let e=t instanceof Error?t.message:"Unknown error";return a(e),{success:!1,error:e}}finally{t(!1)}},[]),loading:e,error:s}}function l(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null);return{getPrice:(0,r.useCallback)(async(e,s)=>{t(!0),a(null);try{let t=await c.getPrice(e,s);return!t.success&&t.error&&a(t.error),t}catch(t){let e=t instanceof Error?t.message:"Unknown error";return a(e),{success:!1,error:e,data:{}}}finally{t(!1)}},[]),loading:e,error:s}}function o(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null);return{getWeather:(0,r.useCallback)(async e=>{t(!0),a(null);try{let t=await c.getWeather(e);return!t.success&&t.error&&a(t.error),t}catch(t){let e=t instanceof Error?t.message:"Unknown error";return a(e),{success:!1,error:e,data:{}}}finally{t(!1)}},[]),loading:e,error:s}}function d(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null);return{getProviders:(0,r.useCallback)(async()=>{t(!0),a(null);try{let e=await c.getProviders();return!e.success&&e.error&&a(e.error),e}catch(t){let e=t instanceof Error?t.message:"Unknown error";return a(e),{success:!1,error:e,data:{}}}finally{t(!1)}},[]),loading:e,error:s}}},5017:(e,t,s)=>{Promise.resolve().then(s.bind(s,5774))},5774:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(5155),a=s(7288);function n(){return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{label:"Active Oracles",value:"9",change:"+2",trend:"up",icon:"ri-database-2-line"},{label:"HCS Topics",value:"4",change:"100%",trend:"up",icon:"ri-message-3-line"},{label:"Daily Transactions",value:"12.4K",change:"+8.2%",trend:"up",icon:"ri-exchange-line"},{label:"Network TPS",value:"3,247",change:"+5.1%",trend:"up",icon:"ri-speed-line"},{label:"Consensus Time",value:"4.2s",change:"-0.3s",trend:"down",icon:"ri-timer-line"},{label:"Success Rate",value:"99.8%",change:"+0.1%",trend:"up",icon:"ri-check-line"}].map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"".concat(e.icon," text-white text-xl")})}),(0,r.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-full ".concat("up"===e.trend?"text-green-700 bg-green-100":"text-red-700 bg-red-100"),children:e.change})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:e.label})]})]},t))})}function c(){return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Network Status"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Real-time Hedera network monitoring"})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"space-y-4",children:[{id:"node-001",name:"Hedera Node 1",status:"online",stake:"2.4M ℏ",uptime:"99.9%"},{id:"node-002",name:"Hedera Node 2",status:"online",stake:"2.1M ℏ",uptime:"99.8%"},{id:"node-003",name:"Hedera Node 3",status:"warning",stake:"1.9M ℏ",uptime:"98.2%"},{id:"node-004",name:"Hedera Node 4",status:"online",stake:"2.3M ℏ",uptime:"99.7%"}].map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("online"===e.status?"bg-green-500":"warning"===e.status?"bg-yellow-500":"bg-red-500")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Stake: ",e.stake]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-sm font-medium ".concat("online"===e.status?"text-green-700":"warning"===e.status?"text-yellow-700":"text-red-700"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.uptime," uptime"]})]})]},e.id))}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"28"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Nodes"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"99.7%"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Network Uptime"})]})]})]})]})}var i=s(2115),l=s(4979),o=s(3999);function d(){var e;let[t,s]=(0,i.useState)(null),[a,n]=(0,i.useState)(null),{getPrice:c}=(0,l.XB)(),{getProviders:d}=(0,l.u9)();(0,i.useEffect)(()=>{let e=async()=>{try{let[e,t]=await Promise.all([c("BTC"),d()]);e.success&&s(e.data),t.success&&n(t.data)}catch(e){console.error("Error fetching Oracle metrics:",e)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[c,d]);let u=(null==a?void 0:a.providers)?a.providers.slice(0,5).map(e=>({name:e.name,price:t?(0,o.vv)(t.price):"$42,000.00",change:(null==t?void 0:t.market_data)?"".concat(t.market_data.change_24h>0?"+":"").concat(t.market_data.change_24h.toFixed(1),"%"):"+2.1%",status:e.healthy?"active":"warning",confidence:Math.round(100*e.reliability)})):[{name:"Chainlink",price:"$42,234.56",change:"+2.3%",status:"active",confidence:98},{name:"CoinGecko",price:"$42,198.23",change:"+2.1%",status:"active",confidence:96},{name:"Band Protocol",price:"$42,267.89",change:"+2.4%",status:"active",confidence:94},{name:"Chronicle",price:"$42,189.45",change:"+1.9%",status:"active",confidence:92},{name:"Tellor",price:"$42,245.67",change:"+2.2%",status:"warning",confidence:87}],m=t?t.price:42223.45,x=(null==t||null==(e=t.market_data)?void 0:e.change_24h)||2.2;return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Oracle Data Feeds"}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Real-time BTC price feeds from ",(null==a?void 0:a.total_providers)||9," oracle providers"]})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"space-y-3",children:u.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("active"===e.status?"bg-green-500":"bg-yellow-500")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-lg font-bold text-gray-900",children:e.price}),(0,r.jsx)("span",{className:"text-sm font-medium ".concat(e.change.startsWith("+")?"text-green-600":"text-red-600"),children:e.change})]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-sm font-medium ".concat((0,o.ul)(e.confidence/100)),children:[e.confidence,"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"confidence"})]})]},t))}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900",children:"Consensus Price (BTC)"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:(0,o.vv)(m)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Algorithm: Weighted Average"}),(0,r.jsxs)("div",{className:"text-sm font-medium mt-1 ".concat(x>0?"text-green-600":"text-red-600"),children:[x>0?"+":"",x.toFixed(1),"% (24h)"]})]})]}),a&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-blue-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-600",children:["Active Providers: ",a.active_providers,"/",a.total_providers]}),(0,r.jsxs)("span",{className:"text-blue-600 font-medium",children:["System Health: ",Math.round(a.active_providers/a.total_providers*100),"%"]})]})})]})]})]})}function u(){return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 mt-8",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Latest events across all services"})]}),(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:[{id:1,type:"consensus",message:"Oracle consensus reached for BTC/USD price feed",timestamp:"2 minutes ago",status:"success",icon:"ri-check-line"},{id:2,type:"hcs",message:"New message submitted to Oracle audit topic",timestamp:"5 minutes ago",status:"info",icon:"ri-message-3-line"},{id:3,type:"contract",message:"PriceFeed contract updated with latest data",timestamp:"8 minutes ago",status:"success",icon:"ri-file-code-line"},{id:4,type:"warning",message:"Tellor oracle response time exceeded threshold",timestamp:"12 minutes ago",status:"warning",icon:"ri-alert-line"},{id:5,type:"account",message:"New account created: 0.0.1234567",timestamp:"15 minutes ago",status:"info",icon:"ri-user-add-line"},{id:6,type:"file",message:"Digital ID document encrypted and stored",timestamp:"18 minutes ago",status:"success",icon:"ri-file-shield-2-line"}].map(e=>(0,r.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("success"===e.status?"bg-green-100":"warning"===e.status?"bg-yellow-100":"bg-blue-100"),children:(0,r.jsx)("i",{className:"".concat(e.icon," ").concat("success"===e.status?"text-green-600":"warning"===e.status?"text-yellow-600":"text-blue-600")})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-gray-900 font-medium",children:e.message}),(0,r.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:e.timestamp})]}),(0,r.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("success"===e.status?"bg-green-100 text-green-800":"warning"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.type})]})},e.id))})]})}function m(){return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(a.A,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Monitor your Hedera consensus oracles and network performance"})]}),(0,r.jsx)(n,{}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8 mt-8",children:[(0,r.jsx)(c,{}),(0,r.jsx)(d,{})]}),(0,r.jsx)(u,{})]})]})}},7288:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(5155),a=s(6874),n=s.n(a);function c(){return(0,r.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,r.jsxs)(n(),{href:"/",className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-database-2-line text-white text-xl"})}),(0,r.jsx)("h1",{className:"font-['Pacifico'] text-2xl text-gray-900",children:"Negravis"})]}),(0,r.jsxs)("nav",{className:"flex items-center space-x-8",children:[(0,r.jsx)(n(),{href:"/dashboard",className:"text-gray-600 hover:text-blue-600 font-medium",children:"Dashboard"}),(0,r.jsx)(n(),{href:"/oracles",className:"text-gray-600 hover:text-blue-600 font-medium",children:"Oracles"}),(0,r.jsx)(n(),{href:"/consensus",className:"text-gray-600 hover:text-blue-600 font-medium",children:"HCS Topics"}),(0,r.jsx)(n(),{href:"/analytics",className:"text-gray-600 hover:text-blue-600 font-medium",children:"Analytics"}),(0,r.jsx)(n(),{href:"/explorer",className:"text-gray-600 hover:text-blue-600 font-medium",children:"HashScan"}),(0,r.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 whitespace-nowrap cursor-pointer",children:"Connect Wallet"})]})]})})}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=5017)),_N_E=e.O()}]);